(this["webpackJsonpfrontend-shopping"]=this["webpackJsonpfrontend-shopping"]||[]).push([[0],{66:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),s=a(9),n=a.n(s),i=a(28),o=a(18),d=a(38),l=[{id_product:1,category:"nacional",fk_idcategorys:1,name_product:"Flamengo 2020",price:300,image:"./images/produtos/fla.jpg",id_categorys:1,name_categorys:"Clubes brasileiros",selected:!1},{id_product:2,category:"nacional",fk_idcategorys:1,name_product:"Palmeiras 2020",price:350,image:"./images/produtos/palmeiras.jpg",id_categorys:1,name_categorys:"Clubes brasileiros",selected:!1},{id_product:9,category:"nacional",fk_idcategorys:1,name_product:"Gr\xeamio 2020",price:230,image:"./images/produtos/gremio.jpg",id_categorys:1,name_categorys:"Clubes brasileiros",selected:!1},{id_product:4,category:"europeu",fk_idcategorys:2,name_product:"Arsenal 2020/21",price:399.99,image:"./images/produtos/arsenal.jpg",id_categorys:2,name_categorys:"Clubes europeus",selected:!1},{id_product:10,category:"europeu",fk_idcategorys:2,name_product:"Manchester City 2020/21",price:350.99,image:"./images/produtos/man-city.jpg",id_categorys:2,name_categorys:"Clubes europeus",selected:!1},{id_product:11,category:"europeu",fk_idcategorys:2,name_product:"Milan 2020/21",price:299.99,image:"./images/produtos/milan.jpg",id_categorys:2,name_categorys:"Clubes europeus",selected:!1},{id_product:6,category:"historica",fk_idcategorys:3,name_product:"Brasil 1994",price:200,image:"./images/produtos/brasil94.jpg",id_categorys:3,name_categorys:"Camisas hist\xf3ricas",selected:!1},{id_product:7,category:"historica",fk_idcategorys:3,name_product:"Flamengo 1981",price:450,image:"./images/produtos/fla81.jpg",id_categorys:3,name_categorys:"Camisas hist\xf3ricas",selected:!1},{id_product:3,category:"selecao",fk_idcategorys:4,name_product:"Alemanha 2020",price:350,image:"./images/produtos/alemanha.jpg",id_categorys:4,name_categorys:"Sele\xe7\xf5es nacionais",selected:!1},{id_product:5,category:"selecao",fk_idcategorys:4,name_product:"Brasil 2020",price:399,image:"./images/produtos/brasil.jpg",id_categorys:4,name_categorys:"Sele\xe7\xf5es nacionais",selected:!1},{id_product:8,category:"casual",fk_idcategorys:5,name_product:"Flamengo T 2020",price:180,image:"./images/produtos/fla_treino.jpg",id_categorys:5,name_categorys:"Casuais",selected:!1},{id_product:12,category:"casual",fk_idcategorys:5,name_product:"Real Madrid 2019/20",price:189.99,image:"./images/produtos/real_treino.jpg",id_categorys:5,name_categorys:"Casuais",selected:!1}],j=l;var u=a(16),p={value:0,products:l,Cart:[]};var b=Object(d.a)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j;return e},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CART":if(0===e.value){var a={id:t.product.id_product,name:t.product.name_product,price:t.product.price,image:t.product.image,quantity:1};e.Cart.push(a)}else{var c=!1;if(e.Cart.map((function(a,r){a.id===t.product.id_product&&(e.Cart[r].quantity++,c=!0)})),!c){var r={id:t.product.id_product,name:t.product.name_product,price:t.product.price,image:t.product.image,quantity:1};e.Cart.push(r)}}return Object(u.a)(Object(u.a)({},e),{},{value:e.value+1});case"ADD_ITEM":return t.product.quantity++,Object(u.a)(Object(u.a)({},e),{},{value:t.cart.value+1});case"REMOVE_ITEM":return t.product.quantity>1?(t.product.quantity--,Object(u.a)(Object(u.a)({},e),{},{value:t.cart.value-1})):e;case"DELETE_ITEM":return Object(u.a)(Object(u.a)({},e),{},{value:t.cart.value-t.product.quantity,Cart:e.Cart.filter((function(e){return e.id!==t.product.id}))});case"CHANGE_CART":return e=t.localCart;default:return e}return e}}),m=Object(d.b)(b),g=a(7),h=a(100),O=a(101),x=a(102),f=a(40),y=a(104),_=a(95),v=a(99),C=a(2),N=function(e){var t=e.name,a=e.details;return Object(C.jsx)(_.a,{children:Object(C.jsx)(v.a,{primary:t,secondary:a})})},S=a(103),k=function(e,t){return{type:"ADD_TO_CART",cart:e,product:t}},T=function(e,t){return{type:"ADD_ITEM",cart:e,product:t}},E=function(e,t){return{type:"REMOVE_ITEM",cart:e,product:t}},M=function(e,t){return{type:"DELETE_ITEM",cart:e,product:t}},w=Object(h.a)((function(e){return{paper:{padding:e.spacing(2),textAlign:"center"}}})),A=function(e){var t=e.product,a=e.children,c=Object(o.c)((function(e){return e.cart.value})),r=Object(o.b)(),s=w();return Object(C.jsx)(O.a,{item:!0,xs:3,children:Object(C.jsx)(x.a,{className:s.paper,children:Object(C.jsxs)(O.a,{container:!0,direction:"column",children:[Object(C.jsxs)(O.a,{item:!0,children:[Object(C.jsx)("img",{width:"140px",src:t.image,alt:t.name_product}),Object(C.jsx)(f.a,{variant:"h6",children:a}),Object(C.jsxs)(f.a,{variant:"subtitle1",children:["R$ ",t.price.toFixed(2)]})]}),Object(C.jsx)(S.a,{variant:"contained",onClick:function(){return r(k(c,t))},children:"Adicionar"})]})})})},I=Object(h.a)((function(e){return{root:{flexGrow:1,marginTop:"6px"},paper:{padding:e.spacing(2),textAlign:"center"}}})),D=function(){for(var e=Object(o.c)((function(e){return e.products})),t=I(),a=e.map((function(e){var t={};return t.id=e.id_categorys,t.name=e.name_categorys,t})),c=a.map(JSON.stringify).filter((function(e,t,a){return-1===a.indexOf(e,t+1)})).map(JSON.parse),r=a.map((function(e){return e.name})),s={},n=0;n<r.length;n++){var i=r[n];s[i]=s[i]?s[i]+1:1}return Object(C.jsxs)(O.a,{container:!0,spacing:3,className:t.root,children:[Object(C.jsx)(O.a,{item:!0,xs:3,children:Object(C.jsxs)(x.a,{className:t.paper,children:[Object(C.jsx)(f.a,{variant:"h5",children:"Categorias"}),Object(C.jsx)(y.a,{children:c.map((function(e){return Object(C.jsx)(N,{name:e.name,details:s[e.name]},e.id)}))})]})}),Object(C.jsx)(O.a,{container:!0,xs:9,spacing:3,className:t.root,children:e.map((function(e){return Object(C.jsx)(A,{product:e,children:e.name_product},e.id_product)}))})]})},R=a(49),q=a(12),F=a(42),J=a.n(F),P=a(106),G=function(){var e="http://localhost:5002/message",t=Object(c.useState)([]),a=Object(q.a)(t,2),r=a[0],s=a[1],n=Object(c.useState)(""),i=Object(q.a)(n,2),o=i[0],d=i[1],l=Object(c.useState)(""),j=Object(q.a)(l,2),u=j[0],p=j[1],b=Object(c.useState)(!1),m=Object(q.a)(b,2),g=m[0],h=m[1],x=Object(c.useState)(!1),f=Object(q.a)(x,2),y=f[0],_=f[1],v=Object(c.useState)(!1),N=Object(q.a)(v,2),k=N[0],T=N[1];Object(c.useEffect)(Object(R.a)(J.a.mark((function t(){var a,c;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e);case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,s(c);case 7:case"end":return t.stop()}}),t)}))),[y]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(O.a,{container:!0,direction:"row",xs:12,children:[Object(C.jsx)(P.a,{id:"name",label:"Name",value:o,onChange:function(e){d(e.target.value)},fullWidth:!0}),Object(C.jsx)(P.a,{id:"message",label:"Message",value:u,onChange:function(e){p(e.target.value)},fullWidth:!0})]}),g&&Object(C.jsxs)("div",{className:"alert alert-warning alert-dismissible fade show mt-2",role:"alert",children:[Object(C.jsx)("strong",{children:"Por favor preencha todos os campos!"}),Object(C.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":"Close"})]}),k&&Object(C.jsx)("div",{className:"alert alert-success alert-dismissible fade show mt-2",role:"alert",children:Object(C.jsx)("strong",{children:"Mensagem foi enviada"})}),Object(C.jsx)(S.a,{onClick:function(){if(h(!1),o.length<=0||u.length<=0)return h(!g);var t={email:o,message:u};fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.id&&(_(!0),T(!0),setTimeout((function(){T(!1)}),5002))})),d(""),p(""),console.log(u)},className:"mt-2",variant:"contained",color:"primary",children:"Sent"}),r.map((function(e){return Object(C.jsx)("div",{className:"card mt-2",children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsx)("h5",{className:"card-title",children:e.email}),Object(C.jsx)("p",{className:"card-text",children:e.message}),Object(C.jsx)("p",{className:"card-text",children:Object(C.jsx)("small",{className:"text-muted",children:e.created_at})})]})},e.id)}))]})},L=function(){return Object(C.jsxs)(g.c,{children:[Object(C.jsx)(g.a,{path:"/",element:Object(C.jsx)(D,{})}),Object(C.jsx)(g.a,{path:"/contato",element:Object(C.jsx)(G,{})})]})},$=a(105),B=function(){for(var e=Object(o.c)((function(e){return e.cart})),t=Object(o.b)(),a=0,c=0;c<e.Cart.length;c++)a+=e.Cart[c].price*e.Cart[c].quantity;return e.value>0&&localStorage.setItem("frontend-shopping: cart",JSON.stringify(e)),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("button",{type:"button",className:"btn btn-info","data-bs-toggle":"modal","data-bs-target":"#CartModal",children:[Object(C.jsx)("span",{children:Object(C.jsx)("i",{className:"fas fa-shopping-cart"})}),Object(C.jsx)("span",{className:"badge rounded-pill bg-info text-dark",children:e.value})]}),Object(C.jsx)("div",{className:"modal fade",id:"CartModal",tabIndex:"-1","aria-labelledby":"CartModalLabel","aria-hidden":"true",children:Object(C.jsx)("div",{className:"modal-dialog",children:Object(C.jsxs)("div",{className:"modal-content",children:[Object(C.jsxs)("div",{className:"modal-header",children:[Object(C.jsx)("h5",{className:"modal-title",id:"CartModalLabel",children:"Meu Carrinho"}),Object(C.jsx)("button",{type:"button",className:"close","data-bs-dismiss":"modal","aria-label":"Close",children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(C.jsx)("div",{className:"modal-body table-responsive",children:Object(C.jsxs)("table",{className:"table table-hover",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"col"}),Object(C.jsx)("th",{scope:"col",children:"Produto"}),Object(C.jsx)("th",{scope:"col",children:"Qtd"}),Object(C.jsx)("th",{scope:"col",children:"Pre\xe7o"}),Object(C.jsx)("th",{scope:"col"}),Object(C.jsx)("th",{scope:"col"}),Object(C.jsx)("th",{scope:"col",children:"Total"})]})}),Object(C.jsxs)("tbody",{children:[e.Cart.map((function(a){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:Object(C.jsx)("button",{onClick:function(){return t(M(e,a))},className:"badge bg-danger",children:Object(C.jsx)("i",{className:"fas fa-window-close"})})}),Object(C.jsx)("th",{children:Object(C.jsx)("img",{className:"img-fluid img-thumbnail",src:a.image,alt:a.Name,width:"50px"})}),Object(C.jsx)("th",{children:Object(C.jsx)("span",{className:"badge badge-pill bg-warning",children:a.quantity})}),Object(C.jsxs)("th",{children:["R$ ",a.price.toFixed(2)]}),Object(C.jsx)("th",{children:Object(C.jsx)("button",{onClick:function(){return t(T(e,a))},className:"badge badge-pill bg-primary",children:Object(C.jsx)("i",{className:"fas fa-plus"})})}),Object(C.jsx)("th",{children:Object(C.jsx)("button",{onClick:function(){return t(E(e,a))},className:"badge badge-pill bg-danger",children:Object(C.jsx)("i",{className:"fas fa-minus"})})}),Object(C.jsxs)("th",{children:["R$ ",(a.price*a.quantity).toFixed(2)]})]},a.id)})),Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{colSpan:"2",scope:"col",children:"Total"}),Object(C.jsxs)("th",{colSpan:"3",children:[e.value," itens"]}),Object(C.jsxs)("th",{colSpan:"2",children:["R$ ",a.toFixed(2)]})]})]})]})}),Object(C.jsx)("div",{className:"modal-footer",children:Object(C.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"})})]})})})]})},W=function(){return Object(C.jsxs)(O.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center",xs:12,children:[Object(C.jsx)(f.a,{variant:"h3",children:"Dio Shopping"}),Object(C.jsx)(i.b,{to:"/",children:Object(C.jsx)(S.a,{color:"primary",children:"Inicio"})}),Object(C.jsx)(i.b,{to:"/contato",children:Object(C.jsx)(S.a,{color:"primary",children:"Contato"})}),Object(C.jsx)(B,{})]})},H=function(){var e=JSON.parse(localStorage.getItem("frontend-shopping: cart"));return null!==e&&m.dispatch({type:"CHANGE_CART",localCart:e}),Object(C.jsx)(o.a,{store:m,children:Object(C.jsx)($.a,{maxWidth:"xl",children:Object(C.jsxs)(i.a,{children:[Object(C.jsx)(W,{}),Object(C.jsx)(L,{})]})})})};n.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(H,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.aa421617.chunk.js.map